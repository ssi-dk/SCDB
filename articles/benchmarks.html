<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>SCDB: Benchmarks • SCDB</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="SCDB: Benchmarks">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SCDB</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/SCDB.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/benchmarks.html">SCDB: Benchmarks</a></li>
    <li><a class="dropdown-item" href="../articles/slowly-changing-dimension.html">Slowly Changing Dimension methodology</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ssi-dk/SCDB/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>SCDB: Benchmarks</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ssi-dk/SCDB/blob/v0.5.1/vignettes/benchmarks.Rmd" class="external-link"><code>vignettes/benchmarks.Rmd</code></a></small>
      <div class="d-none name"><code>benchmarks.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span></code></pre></div>
<p>To showcase the performance of <code>SCDB</code> on different
database backends, we include this vignette that summarises a simple
benchmark: A sample dataset is created based on the
<code><a href="https://rdrr.io/r/datasets/iris.html" class="external-link">datasets::iris</a></code> dataset. This data is repeated 10 times and
given a unique ID (the row number of the data).</p>
<p>This data forms the basis for three “snapshots” used in the
benchmarks:</p>
<ol style="list-style-type: decimal">
<li><p>The data as described above.</p></li>
<li><p>As 1. but where any <code>Sepal.Length</code> below the median is
halved.</p></li>
<li><p>As 2. but where any <code>Sepal.width</code> below the median is
halved.</p></li>
</ol>
<p>The benchmark function uses three consecutive calls to
<code><a href="../reference/update_snapshot.html">update_snapshot()</a></code> to create the table with first snapshot
and then update it to the second and third snapshot. Finally, the table
is deleted.</p>
<p>The performance of this benchmark function is timed with the
<a href="https://github.com/joshuaulrich/microbenchmark/" class="external-link">microbenchmark</a> package using 10 replicates. All
benchmarks are run on the same machine.</p>
<p><img src="benchmarks_files/figure-html/benchmark_1-1.png" width="700"></p>
<p>We include another benchmark to highlight the complexity scaling of
the <code><a href="../reference/update_snapshot.html">update_snapshot()</a></code> with the size of the input data. The
datasets are similar to the first benchmark, but the number of repeats
is varied to see the impact of increasing data size. The benchmarks are
run from a “clean” state, where the target_table does not exists. The
benchmark measures both the time to create the table and to remove it
again afterwards (to restore the clean state).</p>
<p>The performance of this benchmark function is timed with the
<a href="https://github.com/joshuaulrich/microbenchmark/" class="external-link">microbenchmark</a> package using 5 replicates. All benchmarks
are run on the same machine.</p>
<p>The results of the benchmark are shown graphically below (mean and
standard deviation) and with linear scaling (dotted line), where we
compare the current development version of <code>SCDB</code> with the
current CRAN version.</p>
<p>NOTE: There are reports of a superlinear complexity for very large
data sets. If you experience such problems, consider batching the
updates via the <code>filters</code> argument.</p>
<p><img src="benchmarks_files/figure-html/benchmark_2-1.png" width="700"></p>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Rasmus Skytte Randløv, Marcus Munch Grünewald, Statens Serum Institut.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
